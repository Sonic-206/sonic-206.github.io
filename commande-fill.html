<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Nino's website</title>
    <meta name="apple-mobile-web-app-title" content="Accueil" />
    <meta name="author" content="Nino" />
    <meta name="description" content="description du contenu" />
    <!---- Favicon ---->
    <link rel="icon" href="img/Favicon-32.png" />
    <!---- Android Icon ---->
    <link rel="icon" sizes="192x192" href="img/icon-192.png" />
    <!---- IOS Icon ---->
    <link rel="apple-touch-icon-precomposed" href="img/icon-180.png" />
    <!---- stylesheet ---->
    <link rel="stylesheet" href="css/normalize.min.css" />
    <link rel="stylesheet" href="css/styles.css" />
    <!---- https://fontawesome.com/ ---->
    <link rel="stylesheet" href="css/all.min.css" />

    <meta name="mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <style>
      @font-face {
        font-family: "Minecraftia";
        src: url("/structures-folder/webfonts/minecraft.woff");
      }
      .text-button {
        font-family: "Minecraftia";
        font-size: 12px;
      }
      .span-code {
        background-color: rgb(8, 166, 50);
        padding: 3px;
        color: #fff;
      }
    </style>
  </head>
  <body>
    <!---insert HEADER-->
    <div id="containerHead"></div>
    <script src="js/insertHeader.js"></script>
    <script>
      // default
      // minecraft
      headerHTML1("minecraft");
    </script>
    <!---insert HEADER-->
    <div class="main container">
      <h2>
        Commande /fill: Remplir ou remplacer une région avec un type de bloc
      </h2>
      <div class="container-code">
        <code class="commande"
          >/fill &ltfrom&gt &ltto&gt &ltblock&gt &ltfilling&gt</code
        >
      </div>

      <div class="container-tool b-color-b">
        <div class="container-inputs">
          <div class="container-input">
            <div class="input-label">&ltfrom&gt</div>
            <div class="input-input">
              <input
                class="cmd-input"
                id="from"
                data-result="from-result"
                title="12"
              />
            </div>
            <div
              id="commande-paste-from"
              class="commande-paste"
              data-result="from"
              data-resultout="from-result"
            >
              <i class="fa-regular fa-paste"></i>
              <span class="text-button">coller</span>
            </div>
          </div>
          <div class="container-input">
            <div class="input-label">&ltto&gt</div>
            <div class="input-input">
              <input class="cmd-input" id="to" data-result="to-result" />
            </div>
            <div
              id="commande-paste-to"
              class="commande-paste"
              data-result="to"
              data-resultout="to-result"
            >
              <i class="fa-regular fa-paste"></i>
              <span class="text-button">coller</span>
            </div>
          </div>
          <div class="container-input">
            <div class="input-label">&ltblock&gt</div>
            <div class="input-input">
              <input
                class="cmd-input search-block-js"
                pattern="[a-z]"
                id="block"
                data-result="block-result"
                title="Nom en lettres"
                data-search="pop-block-search"
              />
              <div class="pop-search" id="pop-block-search"></div>
            </div>
            <div
              id="commande-paste-block"
              class="commande-paste"
              data-result="block"
              data-resultout="block-result"
            >
              <i class="fa-regular fa-paste"></i>
              <span class="text-button">coller</span>
            </div>
          </div>
          <div class="container-input-select">
            <div class="container-input">
              <div class="input-label">&ltRemplissage&gt</div>
              <div class="input-input-select">
                <select class="cmd-input" id="fill" data-result="fill-result">
                  <option value="" selected>destroy</option>
                  <option value="keep">keep</option>
                  <option value="hollow">hollow</option>
                  <option value="outline">outline</option>
                  <option value="replace">replace</option>
                </select>
                <span class="color-4">*</span>
              </div>
            </div>
          </div>
          <div class="container-input disabled" id="container-input-block2">
            <div class="input-label">&ltblock remplacer&gt</div>
            <div class="input-input">
              <input
                class="cmd-input search-block-js disabled"
                pattern="[a-z]"
                id="block2"
                data-result="block2-result"
                title="Nom en lettres"
                data-search="pop-block2-search"
                disabled
              />
              <div class="pop-search" id="pop-block2-search"></div>
            </div>
            <div
              id="commande-paste-block2"
              class="commande-paste display-none"
              data-result="block2"
              data-resultout="block2-result"
            >
              <i class="fa-regular fa-paste"></i>
              <span class="text-button">coller</span>
            </div>
            <div style="font-size: 12px">
              Uniquement pour <code class="b-color-3">replace</code>. Block qui
              sera remplacer.
            </div>
          </div>
        </div>
        <div style="margin-top: 10px">Resultat</div>
        <div style="row-gap: 10px;display: flex; flex-direction: column;">
          <code class="commande-result" id="commande-result">
            <span>/fill</span>
            <span id="from-result">&ltfrom&gt</span>
            <span id="to-result">&ltto&gt</span>
            <span id="block-result">&ltblock&gt</span>
            <span id="fill-result"></span>
            <span id="block2-result"></span>
          </code>
          <div style="display: flex; column-gap: 10px;">
            <div class="container-copy">
              <div id="commande-copy" class="commande-copy">
                <i class="fa-regular fa-copy"></i>
                <span class="text-button">copier</span>
              </div>
            </div>
            <div class="container-reset">
              <div id="commande-reset" class="commande-reset b-color-4">
                <i class="fa-regular fa-copy"></i>
                <span class="text-button">Reset</span>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="explanation-parameters">
        <div class="p-commande b-color-b">
          <p>
            <code class="span-code">&ltfrom&gt</code> : les coordonnées de
            départ de la zone à remplir. Ils sont exprimés en coordonnées XYZ et
            peuvent être absolues ou relatives (en utilisant le symbole ~).
          </p>
        </div>
        <div class="p-commande b-color-b">
          <p>
            <code class="span-code">&ltto&gt</code> : les coordonnées de fin de
            la zone à remplir. Ils sont exprimés en coordonnées XYZ et peuvent
            être absolues ou relatives (en utilisant le symbole ~).
          </p>
        </div>
        <div class="p-commande b-color-b">
          <p class="p-commande b-color-b">
            <code class="span-code">&ltblock&gt</code> : le type de bloc avec
            lequel remplir la région. Il doit être le nom officiel du bloc dans
            Minecraft (par exemple, stone, air, glass, etc.).
          </p>
        </div>
        <div class="p-commande b-color-b">
          <p class="p-commande b-color-b">
            <code class="span-code">&ltfilling&gt</code>
            : (Optionnel) Le Type de remplissage.
          </p>
          <p>
            <span class="color-3">destroy</span> :(Valeur par défaut|si non
            precisé) Remplit avec le nouveau bloc, et efface les anciens blocs
            si déjà présent.
          </p>
          <p>
            <span class="color-3">keep</span> : Remplace tous les blocs d'air de
            la zone de destination par le nouveau bloc, et garde les autres
            blocs sans motification.
          </p>
          <p>
            <span class="color-3">hollow</span> : Dessine un cube creux avec le
            nouveau bloc, et remplit l'intérieur d'air.
          </p>
          <p>
            <span class="color-3">outline</span> : Dessine un cube creux avec le
            nouveau bloc, et laisse les anciens blocs à l'intérieur.
          </p>
          <p>
            <span class="color-3">replace</span> : Permet de remplacer les blocs
            d'une zone par un autre bloc.
          </p>
        </div>
        <h3>Conseils d’utilisation</h3>
        <ul>
          <li>La zone maximale est de 32 768 blocs par commande</li>
          <li>
            Pour obtenir les coordonnées, active l’affichage des coordonnées
            dans les paramètres, puis place-toi dans les coins opposés de la
            zone à remplir
          </li>
          <li>Les noms de blocs doivent être exacts</li>
        </ul>
      </div>
    </div>
  </body>

  <script src="structures-folder/data/data.js"></script>
  <script src="js/blocks.js"></script>
  <script src="js/filCMD.js"></script>
  <script src="js/searchBlocks.js"></script>
  <!--<script>
    /*const fill = {
      destroy:
        "Remplace tous les blocs de la zone de destination par le nouveau bloc.(valeur par defaut)",
      keep: "Remplace tous les blocs d'air de la zone de destination par le nouveau bloc, et garde les autres blocs sans motification.",
      hollow:
        "Dessine un cube creux avec le nouveau bloc, et remplit l'intérieur d'air.",
      outline:
        "Dessine un cube creux avec le nouveau bloc, et laisse les anciens blocs à l'intérieur.",
    };*/

    const reset = {
      from: "",
      to: "",
      block: "",
      fill: "destroy",
    };
    let from = document.getElementById("from");
    let to = document.getElementById("to");
    let block = document.getElementById("block");
    let fill = document.getElementById("fill");
    let block2 = document.getElementById("block2");

    function change(e) {
      let element = document.getElementById(e.currentTarget.dataset.result);
      element.textContent = e.currentTarget.value;
      e.preventDefault();
    }

    let buttonCopy = document.querySelectorAll(".cmd-input");

    buttonCopy.forEach((element) => {
      element.addEventListener("change", change);
    });

    function pasteCMD(e) {
      let el = document.getElementById(e.currentTarget.id);
      let element = document.getElementById(e.currentTarget.dataset.result);
      let elementOut = document.getElementById(
        e.currentTarget.dataset.resultout
      );
      navigator.clipboard.readText().then((clipText) => {
        element.value = clipText;
        elementOut.textContent = clipText;
        el.classList.add("copy-click-commande");
        el.querySelector("span").textContent = "collé";
        setTimeout(() => {
          el.classList.remove("copy-click-commande");
          el.querySelector("span").textContent = "coller";
        }, 1000);
      });
    }

    function copyCMD(e) {
      let text =
        "/fill" +
        " " +
        from.value +
        " " +
        to.value +
        " " +
        block.value +
        " " +
        fill.value +
        " " +
        block2.value;
      console.log(e.currentTarget);
      let element = document.getElementById(e.currentTarget.id);
      navigator.clipboard
        .writeText(text)
        .then(() => {
          element.classList.add("copy-click-commande");
          element.querySelector("span").textContent = "copié";
          setTimeout(() => {
            element.classList.remove("copy-click-commande");
            element.querySelector("span").textContent = "copier";
          }, 1000);
        })
        .catch((err) => {
          console.error("Could not copy text: ", err);
        });
      e.preventDefault();
    }

    function resetCMD(e) {
      from.value = "";
      to.value = "";
      block.value = "";
      fill.value = "";
    }

    let butCopy = document
      .getElementById("commande-copy")
      .addEventListener("click", copyCMD);

    let butReset = document
      .getElementById("commande-reset")
      .addEventListener("click", resetCMD);

    let inputPaste = document
      .getElementById("commande-paste-from")
      .addEventListener("click", pasteCMD);

    let inputPasteTo = document
      .getElementById("commande-paste-to")
      .addEventListener("click", pasteCMD);

    let inputPasteBlock = document
      .getElementById("commande-paste-block")
      .addEventListener("click", pasteCMD);

    let buttonsPaste = document.querySelectorAll(".commande-paste");

    buttonsPaste.forEach((element) => {
      element.addEventListener("click", pasteCMD);
    });
  </script>-->
</html>
